package com.revaturebank.systemclass;
import java.io.BufferedWriter;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.HashMap;
import java.util.Random;

import org.apache.log4j.Logger;

import com.revaturebank.dao.AdminDAOClass;
import com.revaturebank.util.CloseStreams;
import com.revaturebank.util.Connections;

public class AdminList implements Exportable{
	//logger of this class
	final static Logger logger=Logger.getLogger(UserAccountList.class);
	private AdminDAOClass AdDao =new AdminDAOClass();
	public AdminList() {
		new HashMap<>();
	}
	
	public Admin authenticate(String username,String password) throws Exception{
		return AdDao.authenticate(username, password);

	}
	// add an Admin to the system
	
    public boolean add(Admin a) {
    	return AdDao.insertAdmin(a.getAdminId(),a.getUsername(), a.getPassword(), a.getSsNumber(),
    			a.getFirsName(), a.getLastName(), a.getEmail(), a.getPhone());
		}
    
		  
	//to approve an account and associate it with account number
	public void activateAccount(String username) {
		Random rand=new Random();
      int num=rand.nextInt(10000)+10000;
      String accountNumber="4321"+num;
      try {
      UserAccount ua=AdDao.search(username);
      ua.setAccountNumber(accountNumber);
      if (AdDao.insertUserAccount(ua))
	  System.out.println("Account added");
      }catch(SQLException ex) {
    	  ex.getStackTrace();
      }
	}

	@Override
	public void dataLoad() {
		
		
		
	}

	@Override
	public void dataSave() {
				
	}
	
}
